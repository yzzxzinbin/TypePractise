# 打字练习程序 (Typing Practice)

## 项目简介

这是一个基于控制台（终端）的打字练习程序，使用标准C++和curses库开发，旨在帮助用户提高打字速度和准确性。程序提供了多种练习模式、完整的用户管理、统计分析和自定义设置功能，是一个简易的打字训练工具。

## 功能特点

- **多种练习模式**：
  - 基础键位练习（主行键位、上排键位、下排键位等）
  - 文本打字练习（多种难度级别）
  - 中文拼音练习
  - 自定义文本练习

- **用户管理系统**：
  - 创建和切换用户
  - 用户数据独立保存
  - 重命名和删除用户功能

- **详细的统计分析**：
  - 记录打字速度（WPM）和准确率
  - 跟踪常见错误字符
  - 显示历史最佳成绩

- **个性化设置**：
  - 自动跳过空格选项
  - 忽略大小写选项

- **语料库管理**：
  - 内置多种难度文本
  - 导入自定义文本
  - 支持多语言（包括中文拼音）

- **可视化键盘**：
  - 实时显示应当按下的键位
  - 直观反馈打字过程

- **友好的用户界面**：
  - 彩色文本显示
  - 进度指示
  - 帮助提示

## 系统要求

- 最好使用C++17及以上标准的编译器
- PDCurses库（Windows）或NCurses库（Linux/Mac）
- 最小终端大小建议：80x24字符

## 编译说明

### Windows环境

1. 确保已安装C++开发环境(以MinGW为例)
2. 下载本项目源代码以及PDcurses源代码并进入PDcurses\wincon文件夹(按照你的开发环境选择)
3. 使用mingw32-make将目标文件构建为.a链接库
4. 将构建好的链接库文件放置于本项目的lib目录中并使用类似于下面的g++命令编译项目：
   ```
   g++ -fdiagnostics-color=always -g src/*.cpp -I includes -L "-Wl,-Bstatic" -l:"lib/pdcurses.a" "-Wl,-Bdynamic" -DPDC_WIDE -o bin/TypePractise.exe
   ```

### Linux/Mac环境

1. 由于PDcurses大部分是与ncurses兼容的,因此只需要替换链接库文件,以及将程序中少部分使用WIN32条件编译的部分替换为对应平台的API即可

## 使用方法

1. 启动程序后，首先选择或创建用户
2. 主菜单提供以下选项：
   - 快速开始：快速进入打字练习
   - 从语料库选择：选择特定文本进行练习
   - 导入新文本：导入自定义文本
   - 查看统计数据：查看用户打字数据
   - 设置：调整程序设置
   - 切换用户：切换到另一用户
   - 退出：退出程序

3. 在打字练习中：
   - 当前需要输入的字符将高亮显示
   - 正确输入的字符会变为绿色
   - 错误输入的字符会变为红色
   - 屏幕底部会显示进度和其他信息
   - 按ESC键可返回主菜单

4. 练习结束后会显示统计数据，包括：
   - 打字速度（WPM）
   - 准确率
   - 常见错误
   - 表现分析和改进建议

## 主要功能模块

### 用户管理 (UserManager)

负责用户数据的管理，包括创建、选择、重命名和删除用户。每个用户有独立的统计数据文件。

### 统计管理 (StatisticsManager)

跟踪和保存用户的打字统计数据，如打字速度、准确率、总字符数和常见错误等。

### 语料库管理 (CorpusManager)

管理练习文本库，支持多种难度级别的文本选择和导入。内置有英文和中文拼音语料。

### 设置管理 (SettingsManager)

处理程序设置和用户偏好，如是否自动跳过空格、是否忽略大小写等。

### 键盘练习 (KeyboardPractice)

提供键盘位置练习功能，带有可视化键盘显示，帮助用户熟悉键位布局。

### GUI辅助 (GUIHelper)

提供界面显示相关的辅助函数，如窗口绘制、对话框显示等。

## 项目结构

```
TypePractise/
├── corpus/             # 语料库目录
│   ├── easy/           # 简单难度文本
│   ├── medium/         # 中等难度文本
│   ├── hard/           # 困难难度文本
│   ├── custom/         # 自定义文本
│   └── chinese/        # 中文拼音文本
├── users/              # 用户数据目录
├── settings/           # 设置文件目录
└── src/                # 源代码目录
    ├── user_manager.h/cpp      # 用户管理
    ├── statistics_manager.h/cpp # 统计管理
    ├── corpus_manager.h/cpp    # 语料库管理
    ├── settings_manager.h/cpp  # 设置管理
    ├── gui_helper.h/cpp        # GUI辅助
    ├── key_practice.h/cpp        # 键盘练习
    └── type_practise.h/cpp     # 主程序
```

## 操作提示

- **F1键**：在大多数界面显示帮助信息
- **ESC键**：返回上一级菜单或取消操作
- **Tab键**：在键盘练习中显示/隐藏菜单
- **数字键**：快速选择菜单选项
- **方向键**：导航菜单和选项

## 开发信息

该项目使用标准C++编写，采用模块化设计，各功能模块相互独立且易于扩展。界面基于curses库实现，支持彩色显示和基本的界面交互。

## 注意事项

- 程序默认会在当前目录创建corpus、users和settings文件夹
- 首次运行会自动创建默认用户和示例语料
- 为获得最佳显示效果，建议使用支持彩色显示的终端
- 为了支持宽字符显示,所链接的pdcurses版本应当为宽字符版本,否则链接时会出现undefined错误,建议在构建库文件时使用WIDE=Y UTF8=Y指明

## 许可证

此程序使用MIT许可证开源。

---

希望这个打字练习程序能帮助您提高打字技能！祝您使用愉快！
